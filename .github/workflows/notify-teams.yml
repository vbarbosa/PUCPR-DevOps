name: Notify Teams (AdaptiveCard Minimal)

on:
  push:
    branches:
      - main

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send Adaptive Card Minimal
        run: |
          curl -v -H 'Content-Type: application/json' \
               -d '{
                     "type": "message",
                     "attachments": [
                       {
                         "contentType": "application/vnd.microsoft.card.adaptive",
                         "content": {
                           "$schema": "http://adaptivecards.io/schemas/adaptive-card.json",
                           "type": "AdaptiveCard",
                           "version": "1.4",
                           "body": [
                             {
                               "type": "TextBlock",
                               "text": "ðŸš€ Commit no repositÃ³rio '${GITHUB_REPOSITORY}'"
                             },
                             {
                               "type": "TextBlock",
                               "text": "Autor: ${GITHUB_ACTOR}"
                             },
                             {
                               "type": "TextBlock",
                               "text": "Hash: ${GITHUB_SHA}"
                             }
                           ]
                         }
                       }
                     ]
                   }' \
               ${{ secrets.TEAMS_WEBHOOK_URL }}
